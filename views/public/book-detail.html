<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Libro - SGBU</title>
    <link rel="stylesheet" href="../../assets/css/styles.css">
</head>
<body>
    <header class="navbar">
        <a href="../../index.html" class="navbar-brand">SGBU - Fundaci√≥n Universitaria de Popay√°n</a>
        <nav>
            <ul class="navbar-nav">
                <li><a href="catalog.html">Cat√°logo</a></li>
                <li><a href="login.html">Iniciar Sesi√≥n</a></li>
            </ul>
        </nav>
    </header>

    <main class="container" style="padding: var(--space-6) 0;">
        <div style="display: grid; grid-template-columns: 40% 60%; gap: var(--space-4); align-items: start;">
            <!-- Book Cover and Actions -->
            <aside style="position: sticky; top: var(--space-4);">
                <div style="width: 100%; max-height: 400px; background-color: var(--primary-color); border-radius: var(--border-radius-base); margin-bottom: var(--space-4); display: flex; align-items: center; justify-content: center; font-size: var(--font-size-5xl); color: white; box-shadow: var(--shadow-base); overflow: hidden;">L</div>

                <div class="card">
                    <div class="card-header">Disponibilidad en Tiempo Real</div>
                    <div class="card-body">
                        <div style="text-align: center; margin-bottom: var(--spacing-lg);">
                            <div style="font-size: 2.5rem; font-weight: 700; color: var(--success-color); margin-bottom: var(--spacing-sm);">5</div>
                            <div style="color: var(--text-secondary); font-size: 0.9rem;">de 7 disponibles</div>
                        </div>

                        <div style="background-color: var(--success-color); color: white; padding: var(--spacing-sm) var(--spacing-md); border-radius: var(--border-radius); text-align: center; margin-bottom: var(--spacing-lg);">
                            <strong>‚úÖ Disponible para pr√©stamo</strong>
                        </div>

                        <div style="margin-bottom: var(--spacing-lg);">
                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--spacing-sm);">
                                <span style="color: var(--text-secondary);">Ubicaci√≥n:</span>
                                <strong>Estante A-12</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: var(--spacing-sm);">
                                <span style="color: var(--text-secondary);">C√≥digo:</span>
                                <strong>FIC-GGM-001</strong>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <span style="color: var(--text-secondary);">Estado:</span>
                                <span style="color: var(--success-color); font-weight: 500;">Excelente</span>
                            </div>
                        </div>

                        <button class="btn btn-secondary" style="width: 100%; margin-bottom: var(--spacing-sm);" onclick="simulateReserve('Cien a√±os de soledad')">
                            Reservar Libro
                        </button>
                        <button class="btn btn-outline" style="width: 100%; margin-bottom: var(--spacing-sm);" onclick="simulateAddToWaitlist('Cien a√±os de soledad')">
                            Lista de Espera
                        </button>

                        <p style="font-size: 0.8rem; color: var(--text-secondary); text-align: center; margin: var(--spacing-sm) 0 0 0;">
                            Requiere iniciar sesi√≥n para reservar
                        </p>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="card" style="margin-top: var(--spacing-lg);">
                    <div class="card-header">Acciones R√°pidas</div>
                    <div class="card-body">
                        <button class="btn btn-outline" style="width: 100%; margin-bottom: var(--spacing-sm);" onclick="window.open('catalog.html', '_self')">
                            ‚Üê Volver al Cat√°logo
                        </button>
                        <button class="btn btn-outline" style="width: 100%; margin-bottom: var(--spacing-sm);" onclick="shareBook()">
                            üì§ Compartir
                        </button>
                        <button class="btn btn-outline" style="width: 100%;" onclick="printDetails()">
                            üñ®Ô∏è Imprimir
                        </button>
                    </div>
                </div>
            </aside>

            <!-- Book Details -->
            <section>
                <div style="margin-bottom: var(--spacing-xxl);">
                    <h1 style="margin-bottom: var(--spacing-sm);">Cien a√±os de soledad</h1>
                    <p style="font-size: 1.25rem; color: var(--text-secondary); margin-bottom: var(--spacing-lg);">Gabriel Garc√≠a M√°rquez</p>

                    <div style="display: flex; flex-wrap: wrap; gap: var(--spacing-sm); margin-bottom: var(--spacing-lg);">
                        <span style="background-color: var(--surface-color); color: var(--text-secondary); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--border-radius); font-size: 0.9rem;">Ficci√≥n</span>
                        <span style="background-color: var(--surface-color); color: var(--text-secondary); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--border-radius); font-size: 0.9rem;">Literatura Colombiana</span>
                        <span style="background-color: var(--surface-color); color: var(--text-secondary); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--border-radius); font-size: 0.9rem;">Realismo M√°gico</span>
                        <span style="background-color: var(--surface-color); color: var(--text-secondary); padding: var(--spacing-xs) var(--spacing-sm); border-radius: var(--border-radius); font-size: 0.9rem;">Premio Nobel</span>
                    </div>
                </div>

                <!-- Book Metadata -->
                <div class="card" style="margin-bottom: var(--spacing-xxl);">
                    <div class="card-header">Informaci√≥n del Libro</div>
                    <div class="card-body">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-lg);">
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">ISBN</div>
                                <div style="font-weight: 600;">978-84-376-0494-7</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">Editorial</div>
                                <div style="font-weight: 600;">Editorial Sudamericana</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">A√±o de Publicaci√≥n</div>
                                <div style="font-weight: 600;">1967</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">Idioma</div>
                                <div style="font-weight: 600;">Espa√±ol</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">P√°ginas</div>
                                <div style="font-weight: 600;">417</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">Formato</div>
                                <div style="font-weight: 600;">Tapa dura</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">Clasificaci√≥n</div>
                                <div style="font-weight: 600;">Ficci√≥n Literaria</div>
                            </div>
                            <div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: var(--spacing-xs);">C√≥digo de Barras</div>
                                <div style="font-weight: 600; font-family: monospace;">9788437604947</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Synopsis -->
                <div class="card" style="margin-bottom: var(--space-6);">
                    <div class="card-header">Sinopsis</div>
                    <div class="card-body" style="padding: var(--space-3); line-height: var(--line-height-relaxed);">
                        <p style="margin-bottom: var(--space-3);">
                            ¬´Cien a√±os de soledad¬ª es una novela del escritor colombiano Gabriel Garc√≠a M√°rquez, ganador del Premio Nobel de Literatura en 1982. Es considerada una obra maestra del realismo m√°gico y uno de los libros m√°s importantes de la literatura hispanoamericana del siglo XX.
                        </p>
                        <p style="margin-bottom: var(--space-3);">
                            La historia narra la saga de la familia Buend√≠a a lo largo de siete generaciones en el pueblo ficticio de Macondo. A trav√©s de sus p√°ginas, Garc√≠a M√°rquez entreteje elementos m√°gicos con la realidad cotidiana, creando un universo donde lo extraordinario se vuelve cotidiano y viceversa.
                        </p>
                        <p>
                            La novela explora temas como el amor, la soledad, el destino, la repetici√≥n hist√≥rica y la condici√≥n humana, todo ello ambientado en el contexto de la historia de Colombia y Am√©rica Latina. Su estilo narrativo innovador y su capacidad para mezclar lo real con lo fant√°stico han influido en generaciones de escritores y lectores.
                        </p>
                    </div>
                </div>

                <!-- Related Books -->
                <div class="card">
                    <div class="card-header">Libros Relacionados</div>
                    <div class="card-body">
                        <div class="grid grid-cols-4" style="gap: var(--space-3);">
                            <div style="padding: var(--space-3); border: 1px solid var(--gray-light); border-radius: var(--border-radius-base); transition: border-color var(--transition-fast); cursor: pointer;" onclick="window.location.href='book-detail.html?id=2'">
                                <div style="font-size: var(--font-size-4xl); margin-bottom: var(--space-2); text-align: center; color: var(--secondary-color);">L</div>
                                <h4 style="margin: 0 0 var(--space-2) 0; font-size: var(--font-size-lg);">El amor en los tiempos del c√≥lera</h4>
                                <p style="margin: 0; color: var(--gray-medium); font-size: var(--font-size-sm);">Gabriel Garc√≠a M√°rquez</p>
                            </div>
                            <div style="padding: var(--spacing-lg); border: 1px solid var(--border-color); border-radius: var(--border-radius); transition: border-color 0.2s ease; cursor: pointer;" onclick="window.location.href='book-detail.html?id=3'">
                                <div style="font-size: 3rem; margin-bottom: var(--spacing-sm); text-align: center;">üè†</div>
                                <h4 style="margin: 0 0 var(--spacing-sm) 0; font-size: 1.1rem;">La casa de los esp√≠ritus</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">Isabel Allende</p>
                            </div>
                            <div style="padding: var(--spacing-lg); border: 1px solid var(--border-color); border-radius: var(--border-radius); transition: border-color 0.2s ease; cursor: pointer;" onclick="window.location.href='book-detail.html?id=4'">
                                <div style="font-size: 3rem; margin-bottom: var(--spacing-sm); text-align: center;">üìö</div>
                                <h4 style="margin: 0 0 var(--spacing-sm) 0; font-size: 1.1rem;">Rayuela</h4>
                                <p style="margin: 0; color: var(--text-secondary); font-size: 0.9rem;">Julio Cort√°zar</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script src="../../assets/js/main.js"></script>
    <script>
        function shareBook() {
            const bookTitle = document.querySelector('h1').textContent;
            const bookAuthor = document.querySelector('h1 + p').textContent;
            const shareText = `¬°Mira este libro que encontr√© en la biblioteca! "${bookTitle}" de ${bookAuthor}`;

            if (navigator.share) {
                navigator.share({
                    title: bookTitle,
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(`${shareText} ${window.location.href}`).then(() => {
                    showToast('Enlace copiado al portapapeles', 'success');
                });
            }
        }

        function printDetails() {
            window.print();
        }

        // Add hover effects to related books
        document.addEventListener('DOMContentLoaded', function() {
            const relatedBooks = document.querySelectorAll('.card-body > div > div[onclick]');
            relatedBooks.forEach(book => {
                book.addEventListener('mouseenter', function() {
                    this.style.borderColor = 'var(--primary-color)';
                });
                book.addEventListener('mouseleave', function() {
                    this.style.borderColor = 'var(--border-color)';
                });
            });
        });
    </script>
</body>
</html>