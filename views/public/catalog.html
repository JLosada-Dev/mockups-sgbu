<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Catálogo Público - SGBU</title>
    <link rel="stylesheet" href="../../assets/css/styles.css" />
    <style>
      /* Catalog Responsive Styles */
      .catalog-container {
        display: grid;
        grid-template-columns: 280px 1fr;
        gap: 2rem;
        padding: 2rem 0;
      }

      .catalog-sidebar {
        position: sticky;
        top: 1rem;
        height: fit-content;
      }

      .filter-icon {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      @media (max-width: 1024px) {
        .catalog-container {
          grid-template-columns: 240px 1fr;
          gap: 1.5rem;
        }
      }

      @media (max-width: 767px) {
        .catalog-container {
          grid-template-columns: 1fr !important;
          padding: 1rem 0;
        }

        .catalog-sidebar {
          position: static;
          margin-bottom: 1.5rem;
        }

        .mobile-filter-toggle {
          display: block !important;
          width: 100%;
          margin-bottom: 1rem;
        }

        .catalog-sidebar .card {
          display: none;
        }

        .catalog-sidebar.show .card {
          display: block;
          animation: slideDown 0.3s ease-out;
        }

        #search-results {
          grid-template-columns: 1fr !important;
        }
      }

      @media (max-width: 480px) {
        .catalog-header {
          flex-direction: column !important;
          align-items: flex-start !important;
          gap: 1rem;
        }

        .catalog-header > div {
          width: 100%;
        }

        .catalog-header select {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <header class="navbar">
      <div class="navbar-container">
        <a href="../../index.html" class="navbar-brand"
          >SGBU - Fundación Universitaria de Popayán</a
        >
        <button
          class="navbar-toggle"
          aria-label="Abrir menú de navegación"
          onclick="toggleMobileMenu()"
        ></button>
        <nav>
          <ul class="navbar-nav">
            <li><a href="catalog.html">Catálogo</a></li>
            <li><a href="login.html">Iniciar Sesión</a></li>
          </ul>
        </nav>
        <div class="navbar-mobile-menu" id="mobileMenu">
          <ul class="navbar-nav">
            <li><a href="catalog.html">Catálogo</a></li>
            <li><a href="login.html">Iniciar Sesión</a></li>
          </ul>
        </div>
      </div>
    </header>

    <main class="container catalog-container">
      <aside class="catalog-sidebar">
        <!-- Mobile Filter Toggle -->
        <button
          class="btn btn-primary mobile-filter-toggle"
          style="display: none"
          onclick="toggleFilters()"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            style="vertical-align: middle; margin-right: 0.5rem"
          >
            <polygon
              points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"
            ></polygon>
          </svg>
          Mostrar Filtros
        </button>

        <div class="card">
          <div class="card-header">
            <div class="filter-icon">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polygon
                  points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"
                ></polygon>
              </svg>
              Filtros de Búsqueda
            </div>
          </div>
          <div class="card-body">
            <!-- Search Input -->
            <div class="form-group">
              <label for="search-input" class="form-label">Buscar</label>
              <input
                type="text"
                id="search-input"
                class="form-input"
                placeholder="Título, autor, ISBN..."
                onkeyup="filterBooks()"
              />
            </div>

            <!-- Category Filter -->
            <div class="form-group">
              <label for="category-filter" class="form-label">Categoría</label>
              <select
                id="category-filter"
                class="form-select"
                onchange="filterBooks()"
              >
                <option value="">Todas las categorías</option>
                <option value="ficcion">Ficción</option>
                <option value="ciencia">Ciencia</option>
                <option value="tecnologia">Tecnología</option>
                <option value="historia">Historia</option>
              </select>
            </div>

            <!-- Year Filter -->
            <div class="form-group">
              <label for="year-filter" class="form-label"
                >Año de Publicación</label
              >
              <select
                id="year-filter"
                class="form-select"
                onchange="filterBooks()"
              >
                <option value="">Todos los años</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2021">2021</option>
                <option value="2020">2020</option>
              </select>
            </div>

            <!-- Language Filter -->
            <div class="form-group">
              <label for="language-filter" class="form-label">Idioma</label>
              <select
                id="language-filter"
                class="form-select"
                onchange="filterBooks()"
              >
                <option value="">Todos los idiomas</option>
                <option value="es">Español</option>
                <option value="en">Inglés</option>
              </select>
            </div>

            <!-- Availability Filter -->
            <div class="form-group">
              <label for="availability-filter" class="form-label"
                >Disponibilidad</label
              >
              <select
                id="availability-filter"
                class="form-select"
                onchange="filterBooks()"
              >
                <option value="">Todos</option>
                <option value="available">Disponibles</option>
                <option value="reserved">Reservados</option>
                <option value="borrowed">Prestados</option>
              </select>
            </div>

            <button
              class="btn btn-secondary"
              style="width: 100%"
              onclick="clearFilters()"
            >
              Limpiar Filtros
            </button>
          </div>
        </div>

        <!-- Quick Stats -->
        <div class="card" style="margin-top: 1.5rem">
          <div class="card-header">
            <div class="filter-icon">
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="18" y1="20" x2="18" y2="10"></line>
                <line x1="12" y1="20" x2="12" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="14"></line>
              </svg>
              Estadísticas
            </div>
          </div>
          <div class="card-body" style="padding: 1.25rem">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem;
                margin-bottom: 0.5rem;
                border-radius: 8px;
                background: linear-gradient(
                  135deg,
                  rgba(0, 87, 144, 0.05),
                  rgba(0, 87, 144, 0.02)
                );
              "
            >
              <span style="color: var(--text-secondary); font-size: 0.9rem"
                >Total de libros:</span
              >
              <strong style="color: var(--primary-color); font-size: 1.1rem"
                >2,847</strong
              >
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem;
                margin-bottom: 0.5rem;
                border-radius: 8px;
                background: linear-gradient(
                  135deg,
                  rgba(16, 185, 129, 0.05),
                  rgba(16, 185, 129, 0.02)
                );
              "
            >
              <span style="color: var(--text-secondary); font-size: 0.9rem"
                >Disponibles:</span
              >
              <strong style="color: var(--success-color); font-size: 1.1rem"
                >2,312</strong
              >
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem;
                margin-bottom: 0.5rem;
                border-radius: 8px;
                background: linear-gradient(
                  135deg,
                  rgba(245, 158, 11, 0.05),
                  rgba(245, 158, 11, 0.02)
                );
              "
            >
              <span style="color: var(--text-secondary); font-size: 0.9rem"
                >Reservados:</span
              >
              <strong style="color: var(--warning-color); font-size: 1.1rem"
                >112</strong
              >
            </div>
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 0.75rem;
                border-radius: 8px;
                background: linear-gradient(
                  135deg,
                  rgba(0, 180, 165, 0.05),
                  rgba(0, 180, 165, 0.02)
                );
              "
            >
              <span style="color: var(--text-secondary); font-size: 0.9rem"
                >Prestados:</span
              >
              <strong style="color: var(--secondary-color); font-size: 1.1rem"
                >423</strong
              >
            </div>
          </div>
        </div>
      </aside>

      <section>
        <div
          class="catalog-header"
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
          "
        >
          <div>
            <h1 style="margin: 0 0 0.5rem 0">Catálogo de Libros</h1>
            <p
              style="
                margin: 0;
                color: var(--text-secondary);
                font-size: 0.95rem;
              "
            >
              Explora nuestra colección de libros disponibles
            </p>
          </div>
          <div style="display: flex; gap: 0.75rem; align-items: center">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              style="color: var(--text-secondary)"
            >
              <path d="M3 6h18"></path>
              <path d="M7 12h10"></path>
              <path d="M10 18h4"></path>
            </svg>
            <select
              class="form-select"
              style="padding: 0.625rem 1rem; min-width: 180px"
            >
              <option>Relevancia</option>
              <option>Título A-Z</option>
              <option>Título Z-A</option>
              <option>Autor A-Z</option>
              <option>Año (nuevo primero)</option>
            </select>
          </div>
        </div>

        <!-- Results Grid -->
        <div
          id="search-results"
          style="
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
          "
        >
          <!-- Book Card 1 -->
          <div
            class="card"
            style="
              display: flex;
              flex-direction: column;
              min-height: 380px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-md)'"
          >
            <div
              class="card-body"
              style="display: flex; flex-direction: column; flex: 1"
            >
              <div style="position: relative; margin-bottom: 1.25rem">
                <div
                  style="
                    width: 100%;
                    height: 220px;
                    background: linear-gradient(
                      135deg,
                      var(--primary-color) 0%,
                      #003d5c 100%
                    );
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                  "
                >
                  <svg
                    width="80"
                    height="80"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="rgba(255,255,255,0.3)"
                    stroke-width="1.5"
                  >
                    <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
                    <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
                  </svg>
                  <div
                    style="
                      position: absolute;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      font-size: 4rem;
                      font-weight: 700;
                      color: rgba(255, 255, 255, 0.15);
                      font-family: 'Georgia', serif;
                    "
                  >
                    L
                  </div>
                </div>
                <div style="position: absolute; top: 0.75rem; right: 0.75rem">
                  <span
                    style="
                      background-color: var(--success-color);
                      color: white;
                      padding: 0.375rem 0.75rem;
                      border-radius: 6px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
                      display: inline-flex;
                      align-items: center;
                      gap: 0.25rem;
                    "
                  >
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"
                      />
                    </svg>
                    Disponible
                  </span>
                </div>
              </div>

              <div style="margin-bottom: 1.25rem; flex: 1">
                <h3
                  style="
                    margin: 0 0 0.5rem 0;
                    font-size: 1.125rem;
                    line-height: 1.4;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  Cien años de soledad
                </h3>
                <p
                  style="
                    margin: 0 0 0.75rem 0;
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                  "
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Gabriel García Márquez
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
                  <span
                    style="
                      background-color: rgba(0, 87, 144, 0.1);
                      color: var(--primary-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(0, 87, 144, 0.2);
                    "
                    >Ficción</span
                  >
                  <span
                    style="
                      background-color: rgba(0, 87, 144, 0.1);
                      color: var(--primary-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(0, 87, 144, 0.2);
                    "
                    >1967</span
                  >
                  <span
                    style="
                      background-color: rgba(0, 87, 144, 0.1);
                      color: var(--primary-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(0, 87, 144, 0.2);
                    "
                    >Español</span
                  >
                </div>
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding-top: 1rem;
                  border-top: 1px solid var(--border-color);
                "
              >
                <div>
                  <div
                    style="
                      color: var(--success-color);
                      font-weight: 700;
                      font-size: 1.25rem;
                      line-height: 1;
                    "
                  >
                    5 de 7
                  </div>
                  <div
                    style="
                      color: var(--text-secondary);
                      font-size: 0.75rem;
                      margin-top: 0.25rem;
                    "
                  >
                    disponibles
                  </div>
                </div>
                <a
                  href="book-detail.html?id=1"
                  class="btn btn-primary btn-sm"
                  style="display: inline-flex; align-items: center; gap: 0.5rem"
                >
                  Ver Detalle
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Book Card 2 -->
          <div
            class="card"
            style="
              display: flex;
              flex-direction: column;
              min-height: 380px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-md)'"
          >
            <div
              class="card-body"
              style="display: flex; flex-direction: column; flex: 1"
            >
              <div style="position: relative; margin-bottom: 1.25rem">
                <div
                  style="
                    width: 100%;
                    height: 220px;
                    background: linear-gradient(
                      135deg,
                      var(--warning-color) 0%,
                      #d97706 100%
                    );
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                  "
                >
                  <svg
                    width="80"
                    height="80"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="rgba(255,255,255,0.3)"
                    stroke-width="1.5"
                  >
                    <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                    <path
                      d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"
                    ></path>
                  </svg>
                  <div
                    style="
                      position: absolute;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      font-size: 4rem;
                      font-weight: 700;
                      color: rgba(255, 255, 255, 0.15);
                      font-family: 'Georgia', serif;
                    "
                  >
                    C
                  </div>
                </div>
                <div style="position: absolute; top: 0.75rem; right: 0.75rem">
                  <span
                    style="
                      background-color: var(--warning-color);
                      color: white;
                      padding: 0.375rem 0.75rem;
                      border-radius: 6px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
                      display: inline-flex;
                      align-items: center;
                      gap: 0.25rem;
                    "
                  >
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <circle cx="12" cy="12" r="10"></circle>
                    </svg>
                    Reservado
                  </span>
                </div>
              </div>

              <div style="margin-bottom: 1.25rem; flex: 1">
                <h3
                  style="
                    margin: 0 0 0.5rem 0;
                    font-size: 1.125rem;
                    line-height: 1.4;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  El código Da Vinci
                </h3>
                <p
                  style="
                    margin: 0 0 0.75rem 0;
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                  "
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Dan Brown
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
                  <span
                    style="
                      background-color: rgba(245, 158, 11, 0.1);
                      color: var(--warning-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(245, 158, 11, 0.2);
                    "
                    >Ficción</span
                  >
                  <span
                    style="
                      background-color: rgba(245, 158, 11, 0.1);
                      color: var(--warning-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(245, 158, 11, 0.2);
                    "
                    >2003</span
                  >
                  <span
                    style="
                      background-color: rgba(245, 158, 11, 0.1);
                      color: var(--warning-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(245, 158, 11, 0.2);
                    "
                    >Español</span
                  >
                </div>
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding-top: 1rem;
                  border-top: 1px solid var(--border-color);
                "
              >
                <div>
                  <div
                    style="
                      color: var(--warning-color);
                      font-weight: 700;
                      font-size: 1.25rem;
                      line-height: 1;
                    "
                  >
                    1 de 5
                  </div>
                  <div
                    style="
                      color: var(--text-secondary);
                      font-size: 0.75rem;
                      margin-top: 0.25rem;
                    "
                  >
                    disponibles
                  </div>
                </div>
                <a
                  href="book-detail.html?id=2"
                  class="btn btn-primary btn-sm"
                  style="display: inline-flex; align-items: center; gap: 0.5rem"
                >
                  Ver Detalle
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Book Card 3 -->
          <div
            class="card"
            style="
              display: flex;
              flex-direction: column;
              min-height: 380px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-md)'"
          >
            <div
              class="card-body"
              style="display: flex; flex-direction: column; flex: 1"
            >
              <div style="position: relative; margin-bottom: 1.25rem">
                <div
                  style="
                    width: 100%;
                    height: 220px;
                    background: linear-gradient(
                      135deg,
                      var(--error-color) 0%,
                      #b91c1c 100%
                    );
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                  "
                >
                  <svg
                    width="80"
                    height="80"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="rgba(255,255,255,0.3)"
                    stroke-width="1.5"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                  </svg>
                  <div
                    style="
                      position: absolute;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      font-size: 4rem;
                      font-weight: 700;
                      color: rgba(255, 255, 255, 0.15);
                      font-family: 'Georgia', serif;
                    "
                  >
                    B
                  </div>
                </div>
                <div style="position: absolute; top: 0.75rem; right: 0.75rem">
                  <span
                    style="
                      background-color: var(--error-color);
                      color: white;
                      padding: 0.375rem 0.75rem;
                      border-radius: 6px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
                      display: inline-flex;
                      align-items: center;
                      gap: 0.25rem;
                    "
                  >
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    >
                      <circle cx="12" cy="12" r="10"></circle>
                      <line x1="15" y1="9" x2="9" y2="15"></line>
                      <line x1="9" y1="9" x2="15" y2="15"></line>
                    </svg>
                    No disponible
                  </span>
                </div>
              </div>

              <div style="margin-bottom: 1.25rem; flex: 1">
                <h3
                  style="
                    margin: 0 0 0.5rem 0;
                    font-size: 1.125rem;
                    line-height: 1.4;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  Breve historia del tiempo
                </h3>
                <p
                  style="
                    margin: 0 0 0.75rem 0;
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                  "
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Stephen Hawking
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
                  <span
                    style="
                      background-color: rgba(239, 68, 68, 0.1);
                      color: var(--error-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(239, 68, 68, 0.2);
                    "
                    >Ciencia</span
                  >
                  <span
                    style="
                      background-color: rgba(239, 68, 68, 0.1);
                      color: var(--error-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(239, 68, 68, 0.2);
                    "
                    >1988</span
                  >
                  <span
                    style="
                      background-color: rgba(239, 68, 68, 0.1);
                      color: var(--error-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(239, 68, 68, 0.2);
                    "
                    >Español</span
                  >
                </div>
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding-top: 1rem;
                  border-top: 1px solid var(--border-color);
                "
              >
                <div>
                  <div
                    style="
                      color: var(--error-color);
                      font-weight: 700;
                      font-size: 1.25rem;
                      line-height: 1;
                    "
                  >
                    0 de 3
                  </div>
                  <div
                    style="
                      color: var(--text-secondary);
                      font-size: 0.75rem;
                      margin-top: 0.25rem;
                    "
                  >
                    disponibles
                  </div>
                </div>
                <a
                  href="book-detail.html?id=3"
                  class="btn btn-primary btn-sm"
                  style="display: inline-flex; align-items: center; gap: 0.5rem"
                >
                  Ver Detalle
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Book Card 4 -->
          <div
            class="card"
            style="
              display: flex;
              flex-direction: column;
              min-height: 380px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-md)'"
          >
            <div
              class="card-body"
              style="display: flex; flex-direction: column; flex: 1"
            >
              <div style="position: relative; margin-bottom: 1.25rem">
                <div
                  style="
                    width: 100%;
                    height: 220px;
                    background: linear-gradient(
                      135deg,
                      var(--secondary-color) 0%,
                      #059669 100%
                    );
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                  "
                >
                  <svg
                    width="80"
                    height="80"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="rgba(255,255,255,0.3)"
                    stroke-width="1.5"
                  >
                    <polyline points="16 18 22 12 16 6"></polyline>
                    <polyline points="8 6 2 12 8 18"></polyline>
                  </svg>
                  <div
                    style="
                      position: absolute;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      font-size: 4rem;
                      font-weight: 700;
                      color: rgba(255, 255, 255, 0.15);
                      font-family: 'Georgia', serif;
                    "
                  >
                    CC
                  </div>
                </div>
                <div style="position: absolute; top: 0.75rem; right: 0.75rem">
                  <span
                    style="
                      background-color: var(--success-color);
                      color: white;
                      padding: 0.375rem 0.75rem;
                      border-radius: 6px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
                      display: inline-flex;
                      align-items: center;
                      gap: 0.25rem;
                    "
                  >
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"
                      />
                    </svg>
                    Disponible
                  </span>
                </div>
              </div>

              <div style="margin-bottom: 1.25rem; flex: 1">
                <h3
                  style="
                    margin: 0 0 0.5rem 0;
                    font-size: 1.125rem;
                    line-height: 1.4;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  Clean Code
                </h3>
                <p
                  style="
                    margin: 0 0 0.75rem 0;
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                  "
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Robert C. Martin
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
                  <span
                    style="
                      background-color: rgba(0, 180, 165, 0.1);
                      color: var(--secondary-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(0, 180, 165, 0.2);
                    "
                    >Tecnología</span
                  >
                  <span
                    style="
                      background-color: rgba(0, 180, 165, 0.1);
                      color: var(--secondary-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(0, 180, 165, 0.2);
                    "
                    >2008</span
                  >
                  <span
                    style="
                      background-color: rgba(0, 180, 165, 0.1);
                      color: var(--secondary-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(0, 180, 165, 0.2);
                    "
                    >Inglés</span
                  >
                </div>
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding-top: 1rem;
                  border-top: 1px solid var(--border-color);
                "
              >
                <div>
                  <div
                    style="
                      color: var(--success-color);
                      font-weight: 700;
                      font-size: 1.25rem;
                      line-height: 1;
                    "
                  >
                    4 de 6
                  </div>
                  <div
                    style="
                      color: var(--text-secondary);
                      font-size: 0.75rem;
                      margin-top: 0.25rem;
                    "
                  >
                    disponibles
                  </div>
                </div>
                <a
                  href="book-detail.html?id=4"
                  class="btn btn-primary btn-sm"
                  style="display: inline-flex; align-items: center; gap: 0.5rem"
                >
                  Ver Detalle
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Book Card 5 -->
          <div
            class="card"
            style="
              display: flex;
              flex-direction: column;
              min-height: 380px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-md)'"
          >
            <div
              class="card-body"
              style="display: flex; flex-direction: column; flex: 1"
            >
              <div style="position: relative; margin-bottom: 1.25rem">
                <div
                  style="
                    width: 100%;
                    height: 220px;
                    background: linear-gradient(
                      135deg,
                      #8b5cf6 0%,
                      #6d28d9 100%
                    );
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                  "
                >
                  <svg
                    width="80"
                    height="80"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="rgba(255,255,255,0.3)"
                    stroke-width="1.5"
                  >
                    <path d="M12 2v20M2 12h20"></path>
                    <circle cx="12" cy="12" r="10"></circle>
                  </svg>
                  <div
                    style="
                      position: absolute;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      font-size: 4rem;
                      font-weight: 700;
                      color: rgba(255, 255, 255, 0.15);
                      font-family: 'Georgia', serif;
                    "
                  >
                    H
                  </div>
                </div>
                <div style="position: absolute; top: 0.75rem; right: 0.75rem">
                  <span
                    style="
                      background-color: var(--success-color);
                      color: white;
                      padding: 0.375rem 0.75rem;
                      border-radius: 6px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
                      display: inline-flex;
                      align-items: center;
                      gap: 0.25rem;
                    "
                  >
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <path
                        d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"
                      />
                    </svg>
                    Disponible
                  </span>
                </div>
              </div>

              <div style="margin-bottom: 1.25rem; flex: 1">
                <h3
                  style="
                    margin: 0 0 0.5rem 0;
                    font-size: 1.125rem;
                    line-height: 1.4;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  Historia de Colombia
                </h3>
                <p
                  style="
                    margin: 0 0 0.75rem 0;
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                  "
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Various Authors
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
                  <span
                    style="
                      background-color: rgba(139, 92, 246, 0.1);
                      color: #8b5cf6;
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(139, 92, 246, 0.2);
                    "
                    >Historia</span
                  >
                  <span
                    style="
                      background-color: rgba(139, 92, 246, 0.1);
                      color: #8b5cf6;
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(139, 92, 246, 0.2);
                    "
                    >2015</span
                  >
                  <span
                    style="
                      background-color: rgba(139, 92, 246, 0.1);
                      color: #8b5cf6;
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(139, 92, 246, 0.2);
                    "
                    >Español</span
                  >
                </div>
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding-top: 1rem;
                  border-top: 1px solid var(--border-color);
                "
              >
                <div>
                  <div
                    style="
                      color: var(--success-color);
                      font-weight: 700;
                      font-size: 1.25rem;
                      line-height: 1;
                    "
                  >
                    8 de 10
                  </div>
                  <div
                    style="
                      color: var(--text-secondary);
                      font-size: 0.75rem;
                      margin-top: 0.25rem;
                    "
                  >
                    disponibles
                  </div>
                </div>
                <a
                  href="book-detail.html?id=5"
                  class="btn btn-primary btn-sm"
                  style="display: inline-flex; align-items: center; gap: 0.5rem"
                >
                  Ver Detalle
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </div>

          <!-- Book Card 6 -->
          <div
            class="card"
            style="
              display: flex;
              flex-direction: column;
              min-height: 380px;
              transition: all 0.3s ease;
            "
            onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='var(--shadow-lg)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-md)'"
          >
            <div
              class="card-body"
              style="display: flex; flex-direction: column; flex: 1"
            >
              <div style="position: relative; margin-bottom: 1.25rem">
                <div
                  style="
                    width: 100%;
                    height: 220px;
                    background: linear-gradient(
                      135deg,
                      var(--warning-color) 0%,
                      #d97706 100%
                    );
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    overflow: hidden;
                  "
                >
                  <svg
                    width="80"
                    height="80"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="rgba(255,255,255,0.3)"
                    stroke-width="1.5"
                  >
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="2" y1="12" x2="22" y2="12"></line>
                    <path
                      d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
                    ></path>
                  </svg>
                  <div
                    style="
                      position: absolute;
                      top: 50%;
                      left: 50%;
                      transform: translate(-50%, -50%);
                      font-size: 4rem;
                      font-weight: 700;
                      color: rgba(255, 255, 255, 0.15);
                      font-family: 'Georgia', serif;
                    "
                  >
                    S
                  </div>
                </div>
                <div style="position: absolute; top: 0.75rem; right: 0.75rem">
                  <span
                    style="
                      background-color: var(--warning-color);
                      color: white;
                      padding: 0.375rem 0.75rem;
                      border-radius: 6px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
                      display: inline-flex;
                      align-items: center;
                      gap: 0.25rem;
                    "
                  >
                    <svg
                      width="12"
                      height="12"
                      viewBox="0 0 24 24"
                      fill="currentColor"
                    >
                      <circle cx="12" cy="12" r="10"></circle>
                    </svg>
                    Reservado
                  </span>
                </div>
              </div>

              <div style="margin-bottom: 1.25rem; flex: 1">
                <h3
                  style="
                    margin: 0 0 0.5rem 0;
                    font-size: 1.125rem;
                    line-height: 1.4;
                    color: var(--text-primary);
                    font-weight: 600;
                  "
                >
                  Sapiens
                </h3>
                <p
                  style="
                    margin: 0 0 0.75rem 0;
                    color: var(--text-secondary);
                    font-size: 0.9rem;
                    display: flex;
                    align-items: center;
                    gap: 0.5rem;
                  "
                >
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  Yuval Noah Harari
                </p>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
                  <span
                    style="
                      background-color: rgba(245, 158, 11, 0.1);
                      color: var(--warning-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(245, 158, 11, 0.2);
                    "
                    >Historia</span
                  >
                  <span
                    style="
                      background-color: rgba(245, 158, 11, 0.1);
                      color: var(--warning-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(245, 158, 11, 0.2);
                    "
                    >2011</span
                  >
                  <span
                    style="
                      background-color: rgba(245, 158, 11, 0.1);
                      color: var(--warning-color);
                      padding: 0.25rem 0.625rem;
                      border-radius: 4px;
                      font-size: 0.75rem;
                      font-weight: 500;
                      border: 1px solid rgba(245, 158, 11, 0.2);
                    "
                    >Español</span
                  >
                </div>
              </div>

              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding-top: 1rem;
                  border-top: 1px solid var(--border-color);
                "
              >
                <div>
                  <div
                    style="
                      color: var(--warning-color);
                      font-weight: 700;
                      font-size: 1.25rem;
                      line-height: 1;
                    "
                  >
                    2 de 4
                  </div>
                  <div
                    style="
                      color: var(--text-secondary);
                      font-size: 0.75rem;
                      margin-top: 0.25rem;
                    "
                  >
                    disponibles
                  </div>
                </div>
                <a
                  href="book-detail.html?id=6"
                  class="btn btn-primary btn-sm"
                  style="display: inline-flex; align-items: center; gap: 0.5rem"
                >
                  Ver Detalle
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Pagination -->
        <div
          style="
            display: flex;
            justify-content: center;
            align-items: center;
            gap: var(--space-2);
            margin-top: var(--space-4);
            padding: var(--space-3) 0;
          "
        >
          <button class="btn btn-outline" disabled>&laquo; Anterior</button>
          <button class="btn btn-primary">1</button>
          <button class="btn btn-outline">2</button>
          <button class="btn btn-outline">3</button>
          <span style="color: var(--gray-medium); margin: 0 var(--space-2)"
            >...</span
          >
          <button class="btn btn-outline">12</button>
          <button class="btn btn-outline">Siguiente &raquo;</button>
          <span
            style="
              color: var(--gray-medium);
              margin-left: var(--space-4);
              font-size: var(--font-size-sm);
            "
            >Mostrando 1-20 de 2847 resultados</span
          >
        </div>
      </section>
    </main>

    <!-- Popular Books Section (moved to bottom) -->
    <section
      style="
        background-color: var(--gray-very-light);
        padding: var(--space-6) 0;
      "
    >
      <div class="container">
        <h2 style="text-align: center; margin-bottom: var(--space-5)">
          Libros Más Populares
        </h2>
        <div class="grid grid-cols-4" style="gap: var(--space-4)">
          <div class="card">
            <div class="card-body" style="text-align: center">
              <div
                style="
                  font-size: var(--font-size-5xl);
                  margin-bottom: var(--space-4);
                  color: var(--primary-color);
                "
              >
                L
              </div>
              <h3
                style="
                  margin: 0 0 var(--space-2) 0;
                  font-size: var(--font-size-lg);
                "
              >
                Cien años de soledad
              </h3>
              <p style="margin: 0; color: var(--gray-medium)">
                Gabriel García Márquez
              </p>
              <div style="margin-top: var(--space-4)">
                <span
                  style="
                    background-color: var(--success-color);
                    color: white;
                    padding: var(--space-1) var(--space-2);
                    border-radius: var(--border-radius-base);
                    font-size: var(--font-size-xs);
                  "
                  >5 disponibles</span
                >
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-body" style="text-align: center">
              <div
                style="
                  font-size: 4rem;
                  margin-bottom: var(--spacing-lg);
                  color: var(--secondary-color);
                "
              >
                🌍
              </div>
              <h3 style="margin: 0 0 var(--spacing-sm) 0; font-size: 1.2rem">
                Sapiens
              </h3>
              <p style="margin: 0; color: var(--text-secondary)">
                Yuval Noah Harari
              </p>
              <div style="margin-top: var(--spacing-lg)">
                <span
                  style="
                    background-color: var(--warning-color);
                    color: white;
                    padding: var(--spacing-xs) var(--spacing-sm);
                    border-radius: var(--border-radius);
                    font-size: 0.8rem;
                  "
                  >2 disponibles</span
                >
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-body" style="text-align: center">
              <div
                style="
                  font-size: 4rem;
                  margin-bottom: var(--spacing-lg);
                  color: var(--accent-color);
                "
              >
                💻
              </div>
              <h3 style="margin: 0 0 var(--spacing-sm) 0; font-size: 1.2rem">
                Clean Code
              </h3>
              <p style="margin: 0; color: var(--text-secondary)">
                Robert C. Martin
              </p>
              <div style="margin-top: var(--spacing-lg)">
                <span
                  style="
                    background-color: var(--success-color);
                    color: white;
                    padding: var(--spacing-xs) var(--spacing-sm);
                    border-radius: var(--border-radius);
                    font-size: 0.8rem;
                  "
                  >4 disponibles</span
                >
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-body" style="text-align: center">
              <div
                style="
                  font-size: 4rem;
                  margin-bottom: var(--spacing-lg);
                  color: var(--warning-color);
                "
              >
                📖
              </div>
              <h3 style="margin: 0 0 var(--spacing-sm) 0; font-size: 1.2rem">
                El código Da Vinci
              </h3>
              <p style="margin: 0; color: var(--text-secondary)">Dan Brown</p>
              <div style="margin-top: var(--spacing-lg)">
                <span
                  style="
                    background-color: var(--warning-color);
                    color: white;
                    padding: var(--spacing-xs) var(--spacing-sm);
                    border-radius: var(--border-radius);
                    font-size: 0.8rem;
                  "
                  >1 disponible</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="../../assets/js/main.js"></script>
    <script>
      // Filter functions
      function filterBooks() {
        const searchTerm = document
          .getElementById('search-input')
          .value.toLowerCase();
        const categoryFilter = document.getElementById('category-filter').value;
        const yearFilter = document.getElementById('year-filter').value;
        const languageFilter = document.getElementById('language-filter').value;
        const availabilityFilter = document.getElementById(
          'availability-filter'
        ).value;

        const cards = document.querySelectorAll('#search-results .card');

        cards.forEach((card) => {
          const title = card.querySelector('h3').textContent.toLowerCase();
          const author = card.querySelector('p').textContent.toLowerCase();
          const tags = Array.from(card.querySelectorAll('span')).map((span) =>
            span.textContent.toLowerCase()
          );
          const status =
            card
              .querySelector('.card-body > div > div > span')
              ?.textContent.toLowerCase() || '';

          let show = true;

          // Search filter
          if (
            searchTerm &&
            !title.includes(searchTerm) &&
            !author.includes(searchTerm)
          ) {
            show = false;
          }

          // Category filter
          if (
            categoryFilter &&
            !tags.some((tag) => tag.includes(categoryFilter))
          ) {
            show = false;
          }

          // Year filter
          if (yearFilter && !tags.some((tag) => tag.includes(yearFilter))) {
            show = false;
          }

          // Language filter
          if (
            languageFilter &&
            !tags.some((tag) => tag.includes(languageFilter))
          ) {
            show = false;
          }

          // Availability filter
          if (availabilityFilter) {
            if (
              availabilityFilter === 'available' &&
              !status.includes('disponible')
            ) {
              show = false;
            } else if (
              availabilityFilter === 'reserved' &&
              !status.includes('reservado')
            ) {
              show = false;
            } else if (
              availabilityFilter === 'borrowed' &&
              !status.includes('no disponible')
            ) {
              show = false;
            }
          }

          card.style.display = show ? 'block' : 'none';
        });

        // Show loading state briefly
        const results = document.getElementById('search-results');
        results.classList.add('loading');
        setTimeout(() => {
          results.classList.remove('loading');
        }, 500);
      }

      function clearFilters() {
        document.getElementById('search-input').value = '';
        document.getElementById('category-filter').value = '';
        document.getElementById('year-filter').value = '';
        document.getElementById('language-filter').value = '';
        document.getElementById('availability-filter').value = '';

        const cards = document.querySelectorAll('#search-results .card');
        cards.forEach((card) => {
          card.style.display = 'block';
        });
      }

      // Toggle filters on mobile
      function toggleFilters() {
        const sidebar = document.querySelector('.catalog-sidebar');
        sidebar.classList.toggle('show');
      }

      // Initialize filters on page load
      document.addEventListener('DOMContentLoaded', function () {
        // Any initialization code here
      });
    </script>

    <!-- Toast Container -->
    <div id="toast" class="toast">
      <span id="toast-message"></span>
    </div>
  </body>
</html>
